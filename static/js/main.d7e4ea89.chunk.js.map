{"version":3,"sources":["components/Header/Header.tsx","components/Home/Home.tsx","components/NotFoundPage/NotFoundPage.tsx","api/api.ts","components/PersonRow/PersonRow.tsx","components/PersonRow/listToShow.tsx","components/PeopleTable/PeopleTableData.tsx","components/PeopleTable/PeopleTable.tsx","components/Input/Input.tsx","components/PeopleList/PeopleList.tsx","App.tsx","index.tsx"],"names":["Header","className","id","to","exact","Home","NotFoundPage","getData","a","fetch","then","respond","json","data","map","person","mother","find","individual","name","motherName","father","fatherName","PersonRow","people","currentPath","useParams","slug","location","useLocation","searchParams","URLSearchParams","search","queryFilter","get","querySort","querySortOrder","reversedList","sortedList","reverse","makeReverse","list","querySortAdopted","toLowerCase","sort","personA","personB","localeCompare","Number","sortList","query","pattern","RegExp","filter","test","filterList","index","pathname","toString","rowClassName","sexClassName","blue","sex","red","key","uuid","born","died","peopleTableData","title","PeopleTable","history","useHistory","useState","selectedType","setSelectedType","nextOrder","scope","cell","sortCellClassName","onClick","set","push","src","alt","Input","visibleQuery","setVisibleQuery","prepareQueryToUpdate","useCallback","debounce","NewQuery","delete","placeholder","type","value","onChange","event","target","PeopleList","getPeople","peopleFromServer","useEffect","fetchData","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d7e4ea89.chunk.js","sourcesContent":["import React, { FC } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './Header.css';\n\nexport const Header: FC = () => (\n  <header className=\"center\">\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <div className=\"collapse navbar-collapse\" id=\"navbarColor01\">\n        <ul className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <NavLink className=\"nav-link\" to=\"/\" exact>Home page</NavLink>\n          </li>\n          <li>\n            <NavLink className=\"nav-link\" to=\"/people\" exact>People page</NavLink>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </header>\n);\n","import React, { FC } from 'react';\n\nimport './Home.css';\n\nexport const Home: FC = () => (\n  <h1 className=\"heading\">Home page</h1>\n);\n","import React, { FC } from 'react';\n\nimport './NotFoundPage.css';\n\nexport const NotFoundPage: FC = () => (\n  <h1 className=\"heading\">Page not found</h1>\n);\n","import { PeopleListInterface, Person } from '../interfaces';\n\nexport const getData = async (): Promise<PeopleListInterface[]> => {\n  const data: Person[] = await fetch('https://mate-academy.github.io/react_people-table/api/people.json').then(respond => respond.json());\n\n  return data.map(person => ({\n    ...person,\n    mother: data.find(individual => individual.name === person.motherName) as Person,\n    father: data.find(individual => individual.name === person.fatherName) as Person,\n  }));\n};\n","import React, { FC } from 'react';\nimport { uuid } from 'uuidv4';\nimport { Link, useParams, useLocation } from 'react-router-dom';\nimport className from 'classnames';\nimport { PeopleListInterface } from '../../interfaces';\nimport { filterList, sortList, makeReverse } from './listToShow';\n\nimport './PersonRow.css';\n\ninterface PersonRowProps {\n  people: PeopleListInterface[];\n}\n\ninterface MatchParams {\n  slug: string;\n}\n\nexport const PersonRow: FC<PersonRowProps> = ({ people }) => {\n  const currentPath = useParams<MatchParams>().slug;\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const queryFilter = searchParams.get('query') || '';\n  const querySort = searchParams.get('sortBy') || '';\n  const querySortOrder = searchParams.get('sortOrder') || '';\n\n  const filteredList = filterList(people, queryFilter);\n  const sortedList = sortList(filteredList, querySort);\n  const reversedList = makeReverse(sortedList, querySortOrder);\n\n  return (\n    <tbody>\n      {reversedList.map((person, index) => {\n        const mother = person.mother\n          ? (\n            <td>\n              <Link\n                className=\"red\"\n                to={{\n                  pathname: `/people/${person.mother.slug}`,\n                  search: searchParams.toString(),\n                }}\n              >\n                {person.mother.name}\n              </Link>\n            </td>\n\n          )\n          : (\n            <td>{person.motherName}</td>\n          );\n        const father = person.father\n          ? (\n            <td>\n              <Link\n                className=\"blue\"\n                to={{\n                  pathname: `/people/${person.father.slug}`,\n                  search: searchParams.toString(),\n                }}\n              >\n                {person.father.name}\n              </Link>\n            </td>\n\n          )\n          : (\n            <td>{person.fatherName}</td>\n          );\n\n        const rowClassName = className({ 'table-active': currentPath === person.slug });\n        const sexClassName = className({\n          blue: person.sex === 'm',\n          red: person.sex === 'f',\n        });\n\n        return (\n          <tr\n            className={rowClassName}\n            key={uuid()}\n          >\n            <td>{index + 1}</td>\n            <td>\n              <Link to={{\n                pathname: `/people/${person.slug}`,\n                search: searchParams.toString(),\n              }}\n              >\n                {person.name}\n              </Link>\n            </td>\n            <td className={sexClassName}>{person.sex}</td>\n            <td>{person.born}</td>\n            <td>{person.died}</td>\n            {mother}\n            {father}\n          </tr>\n        );\n      })}\n    </tbody>\n  );\n};\n","import { PeopleListInterface } from '../../interfaces';\n\nexport function filterList(people: PeopleListInterface[], query: string) {\n  const pattern = new RegExp(`${query}`, 'gi');\n\n  return query\n    ? people.filter(person => pattern.test(person.name) || pattern.test(person.motherName)\n       || pattern.test(person.fatherName))\n    : people;\n}\n\nexport function sortList(list: PeopleListInterface[], querySort: string) {\n  const querySortAdopted = querySort.toLowerCase();\n\n  switch (querySortAdopted) {\n    case 'name':\n    case 'sex':\n      return list\n        .sort(\n          (personA, personB) => personA[querySortAdopted].localeCompare(personB[querySortAdopted]),\n        );\n    case 'born':\n    case 'died':\n      return list\n        .sort(\n          (personA, personB) => Number(personA[querySortAdopted])\n            - Number(personB[querySortAdopted]),\n        );\n    default:\n      return list;\n  }\n}\n\nexport function makeReverse(sortedList: PeopleListInterface[], querySortOrder: string) {\n  if (querySortOrder === 'asc') {\n    return sortedList.reverse();\n  }\n\n  return sortedList;\n}\n","interface PeopleTableData {\n  title: string;\n}\n\nexport const peopleTableData: PeopleTableData[] = [\n  {\n    title: 'Name',\n  },\n  {\n    title: 'Sex',\n  },\n  {\n    title: 'Born',\n  },\n  {\n    title: 'Died',\n  },\n];\n","import React, { FC, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport className from 'classnames';\nimport { PeopleListInterface } from '../../interfaces';\nimport { PersonRow } from '../PersonRow/PersonRow';\nimport { peopleTableData } from './PeopleTableData';\n\nimport './PeopleTable.css';\n\ninterface PeopleTableProps {\n  people: PeopleListInterface[];\n}\n\nexport const PeopleTable: FC<PeopleTableProps> = ({ people }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const [selectedType, setSelectedType] = useState<string>('');\n\n  const currentOrder = searchParams.get('sortOrder');\n  const nextOrder = currentOrder === 'asc' ? 'desc' : 'asc';\n\n  return (\n    <table className=\"table table-hover\">\n      <thead>\n        <tr>\n          <th scope=\"col\">№</th>\n          {peopleTableData.map(cell => {\n            const handleSort = () => {\n              setSelectedType(cell.title);\n              searchParams.set('sortBy', cell.title);\n              searchParams.set('sortOrder', nextOrder);\n              history.push({\n                search: searchParams.toString(),\n              });\n            };\n\n            const sortCellClassName = className('head-cell ', { 'table-dark': (selectedType === cell.title) });\n\n            return (\n              <th\n                scope=\"col\"\n                className={sortCellClassName}\n                onClick={handleSort}\n              >\n                {selectedType === cell.title && (\n                  <img src=\"images/sort_both.png\" alt=\"sort arrow\" className=\"arrow\" />\n                )}\n                {cell.title}\n              </th>\n            );\n          })}\n          <th scope=\"col\">Mother</th>\n          <th scope=\"col\">Father</th>\n        </tr>\n      </thead>\n      <PersonRow people={people} />\n    </table>\n  );\n};\n","import React, { FC, useState, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport './Input.css';\n\nexport const Input: FC = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query') || '';\n\n  const [visibleQuery, setVisibleQuery] = useState<string>(query);\n\n  const prepareQueryToUpdate = useCallback(\n    debounce((NewQuery: string) => {\n      if (NewQuery) {\n        searchParams.set('query', NewQuery);\n      } else {\n        searchParams.delete('query');\n      }\n\n      history.push({\n        search: searchParams.toString(),\n      });\n    }, 500),\n    [],\n  );\n\n  const handleQueryUpdate = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setVisibleQuery(value);\n    prepareQueryToUpdate(value);\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <input\n        className=\"form-control\"\n        placeholder=\"Type name here\"\n        type=\"text\"\n        value={visibleQuery}\n        onChange={handleQueryUpdate}\n      />\n    </div>\n  );\n};\n","import React, { FC, useState, useEffect } from 'react';\nimport { getData } from '../../api/api';\nimport { PeopleListInterface } from '../../interfaces';\nimport { PeopleTable } from '../PeopleTable/PeopleTable';\nimport { Input } from '../Input/Input';\n\nimport './PeopleList.css';\n\nexport const PeopleList: FC = () => {\n  const [people, getPeople] = useState<PeopleListInterface[]>([]);\n\n  async function fetchData() {\n    const peopleFromServer = await getData();\n\n    getPeople(peopleFromServer);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <div>\n      <h1 className=\"heading\">People list</h1>\n      <Input />\n      <PeopleTable\n        people={people}\n      />\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport {\n  HashRouter,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { Header } from './components/Header/Header';\nimport { Home } from './components/Home/Home';\nimport { NotFoundPage } from './components/NotFoundPage/NotFoundPage';\nimport { PeopleList } from './components/PeopleList/PeopleList';\n\nimport './App.css';\n\nconst App: FC = () => (\n  <HashRouter>\n    <div className=\"App\">\n      <Header />\n    </div>\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n      <Route exact path=\"/home\">\n        <Redirect to=\"/\" />\n      </Route>\n      <Route\n        path=\"/people/:slug?\"\n        component={PeopleList}\n      />\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n\n  </HashRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}